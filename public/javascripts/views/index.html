<div class="container container--room" ng-if="showRoom && peerConnected">

  <div class="peer-sides" ng-controller="PeerPanelController">
    <div class="peer-side peer-side--left peer-side--self">
      <div class="portrait">
        <canvas class=""></canvas>
      </div>
      <div class="audio-video-buttons">
        <button ng-click="toggleVideo('self')" ng-class="{active: self.videoActive}"><i class="ion-camera"></i></button>
        <button ng-click="toggleAudio('self')" ng-class="{active: self.audioActive}"><i class="ion-mic-a"></i></button>
      </div>

      <hr>

      <div class="file-sharing-dropzone"></div>
    </div>

    <div class="peer-side peer-side--right peer-side--receiver">
      <div class="portrait">
        <canvas class=""></canvas>
      </div>
      <div class="audio-video-buttons">
        <button ng-click="toggleVideo('receiver')" ng-class="{active: receiver.videoActive, muted: receiver.videoMuted}"><i class="ion-camera"></i></button>
        <button ng-click="toggleAudio('receiver')" ng-class="{active: receiver.audioActive, muted: receiver.audioMuted}"><i class="ion-mic-a"></i></button>
      </div>

      <hr>
    </div>
  </div>

  <div ng-controller="ChatController" class="chat-window">
    <div class="chat-window__messages">
      <div class="chat-window__messages__lines">
        <div class="chat-window__messages__line chat-window__messages__line--receiver">
          <div class="chat-window__messages__line__alias">blablaabalbalba</div>
          <div class="chat-window__messages__line__timestamp">21.12.1992 12:20</div>
          <div class="chat-window__messages__line__message">Wristwatch hotdog military-grade tower carbon garage modem industrial grade systemic. Tower soul-delay woman artisanal long-chain hydrocarbons crypto-hacker nodality-space j-pop pen.</div>
        </div>
        <div class="chat-window__messages__line chat-window__messages__line--self">
          <div class="chat-window__messages__line__alias">blablaabalbalba</div>
          <div class="chat-window__messages__line__timestamp">21.12.1992 12:20</div>
          <div class="chat-window__messages__line__message">Wristwatch hotdog military-grade tower carbon garage modem industrial grade systemic. Tower soul-delay woman artisanal long-chain hydrocarbons crypto-hacker nodality-space j-pop pen.</div>
        </div>
      </div>
    </div>
    <div class="chat-window__input">
      <textarea id="" ng-model="chatMessage"></textarea>
      <button><i class="ion-paper-airplane"></i></button>
    </div>
  </div>
</div>

<div class="box box--setup waiting-connection" ng-if="!peerConnected">
  <h4 class="title title--centered">Waiting for someone to connect.</h4>
  <div class="spinner">
    <div class="spinner__rect spinner__rect--1"></div>
    <div class="spinner__rect spinner__rect--2"></div>
    <div class="spinner__rect spinner__rect--3"></div>
    <div class="spinner__rect spinner__rect--4"></div>
    <div class="spinner__rect spinner__rect--5"></div>
  </div>
</div>

<div class="box box--setup" ng-if="showAliasSelection">
  <h2 class="title title--centered">Alias</h2>

  <div class="input-group" ng-class="{'has-error': aliasError}">
    <input type="text" class="big-input" id="alias" ng-model="alias" ng-trim="true" ng-pattern="/[a-zA-Z0-9]+/" ng-disabled="aliasDisabled">
    <span class="error-label" ng-bind="aliasError" ng-if="aliasError"></span>
  </div>

  <div class="button-group">
    <button class="btn btn--primary" ng-click="takeAlias()">Next</button>
  </div>
</div>

<div class="box box--setup" ng-if="showRoomSelection">
  <h2 class="title title--centered">Room Name</h2>

  <div class="input-group">
    <!-- <label for="room">Room Name</label> -->
    <input type="text" class="big-input" id="room" ng-trim="true" ng-pattern="/[a-zA-Z0-9]+/" ng-change="checkRoom()" ng-model="room" ng-disabled="roomDisabled">
  </div>

  <div class="input-group" ng-class="{'has-error': roomPasswordError}" ng-if="roomRequiresPassword">
    <label for="roomPassword">Password</label>
    <input type="password" class="big-input" id="roomPassword" ng-model="roomPassword" ng-disabled="roomDisabled">
  </div>

  <div class="input-group">
    <span class="error-label" ng-bind="roomErrorMessage" ng-if="roomErrorMessage"></span>
    <span class="message-label" ng-bind="roomMessage" ng-if="roomMessage"></span>
  </div>

  <div class="button-group">
    <button class="btn btn--primary" ng-click="enterRoom()">Enter Room</button>
  </div>
</div>